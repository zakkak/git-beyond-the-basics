% -*- mode: latex; TeX-master: t; -*-

% \documentclass[notes=hide]{beamer}
% \documentclass[notes=only]{beamer}
\documentclass[
14pt,
aspectratio=169,
usenames,
dvipsnames,
% handout,
x11names]{beamer}
%\let\Tiny=\tiny

% Font selection
\overfullrule=5pt

\usepackage{todonotes}

\usepackage{etex}
\usepackage{pgfpages}

\usepackage{tabularx}
\usepackage{multicol}
% \usepackage[subfolder]{gnuplottex}

%% beamerscape dependencies
\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{\paperwidth}
\setlength{\TPVertModule}{\paperheight}
\textblockorigin{0mm}{0mm}

\newcommand{\src}[1]{\scriptsize Figure Source: \textit{#1}}

\defbeamertemplate{description item}{align left}{\insertdescriptionitem\hfill}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer template
\usetheme[
	bullet=none,             % Default option: circle
%	nobigpagenumber,         % No big circled page number on lower right
	noheadline,		 % No headline
%       nofootline,		 % No footline
	% grey,                    % For a neutral grey background color
%	watermark=BG_both,	 % png file for the watermark
]{Ithaca}
% \usetheme{metropolis}
% \usetheme{Boadilla}
%\usetheme{Berlin}
% \usetheme{Warsaw}
% % \usetheme{Dresden}
% %\usecolortheme{seagull}
% \usecolortheme{beaver}
% %\usecolortheme{seahorse}
%\usefonttheme{serif}
% \usefonttheme{structurebold}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Template
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{mypurple}{HTML}{494949}
\definecolor{myyellow}{HTML}{FFCC33}
\definecolor{mygrey}{HTML}{999999}

\setbeamercolor{alerted text}{fg=myyellow}
\setbeamercolor{headline}{bg=footline.bg}
\setbeamercolor{block body alerted}{bg=normal text.bg!90!black}
\setbeamercolor{block body}{bg=normal text.bg!90!black}
\setbeamercolor{block body example}{bg=normal text.bg!90!black}
\setbeamercolor{block title alerted}{fg=black}
\setbeamercolor{block title}{bg=blue}
\setbeamercolor{block title example}{use={normal text,example text},fg=example text.fg!75!normal text.fg,bg=normal text.bg!75!black}
\setbeamercolor{frametitle}{fg=white}
\setbeamercolor{item projected}{fg=white}
\setbeamercolor{normal text}{bg=mypurple,fg=white}
\setbeamercolor{section in sidebar}{fg=brown}
\setbeamercolor{section in sidebar shaded}{fg=grey}
\setbeamercolor{separation line}{}
\setbeamercolor{sidebar}{bg=red}
\setbeamercolor{sidebar}{parent=palette primary}
\setbeamercolor{structure}{bg=black, fg=white}
\setbeamercolor{subsection in sidebar}{fg=brown}
\setbeamercolor{subsection in sidebar shaded}{fg=grey}

% \setbeamercolor{palette primary}{fg=mypurple!80!black}
% \setbeamercolor{palette secondary}{fg=mypurple!80!black}
% \setbeamercolor{palette quaternary}{fg=mypurple!50!black}
% \setbeamercolor{page number in foot}{fg=white}

% lets add page numbers
% \expandafter\def\expandafter\insertshorttitle\expandafter{%
%   \insertshorttitle\hfill\insertframenumber\,/\,\inserttotalframenumber}

% \setbeamercovered{transparent}
\beamertemplatetransparentcoveredhigh

% *****************************************
% >>>> 15.3.2    Using Beamer's Templates
% *****************************************
% As a user of the beamer class you typically do not 'use' or 'invoke'
% templates yourself, directly. For example, the frame title template
% is automatically invoked by beamer somewhere deep inside the frame
% typesetting process. The same is true of most other
% templates. However, if, for whatever reason, you wish to invoke a
% template yourself, you can use the following command.
% \usebeamertemplate***{ element name }
% -------------------------------
%%% 7.2.1 The Headline and Footline
% \setbeamertemplate{headline} % Beamer-Template/-Color/-Font
% \setbeamertemplate{headline}
% {%
%   \begin{beamercolorbox}{section in head/foot}
%     \vskip2pt\insertnavigation{\paperwidth}\vskip2pt
%   \end{beamercolorbox}%
% }
% \setbeamertemplate{headline}[default] % The default is just an empty headline.
% \setbeamertemplate{headline}[infolines theme]
% \setbeamertemplate{headline}[miniframes theme]
% \setbeamertemplate{headline}[sidebar theme]
% \setbeamertemplate{headline}[smoothtree theme]
% \setbeamertemplate{headline}[smoothbars theme]
% \setbeamertemplate{headline}[tree]
% \setbeamertemplate{headline}[split theme]
% \setbeamertemplate{headline}[text line]{ text } % The headline is typeset with 'text'
% Logo in every slide except title
% \addtobeamertemplate{headline}{}
% {%
% \vspace{1ex}
% \hspace{1ex}
% \includegraphics[height=1cm]{myrmigki_color}
% }
% -------------------------------
% \setbeamertemplate{footline} % Beamer-Template/-Color/-Font
% \setbeamertemplate{footline}[default]
% \setbeamertemplate{footline}[infolines theme]
% \setbeamertemplate{footline}[miniframes theme]
% \setbeamertemplate{footline}[page number]
% \setbeamertemplate{footline}[frame number]
% \setbeamertemplate{footline}[split]
% \setbeamertemplate{footline}[text line]{ text }
% % Footline in every slideexcept title
\setbeamertemplate{footline}{
  \leavevmode%
  \begin{beamercolorbox}[left,wd=.5\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm, rightskip=.3cm plus1fil]{footline}%
    \insertshorttitle%
  \end{beamercolorbox}\hspace{-.1\paperwidth}%
%
  \begin{beamercolorbox}[right,wd=.6\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm,rightskip=.3cm plus1fil]{footline}%
  \hskip2ex plus1fill%
  \includegraphics[height=1.5ex]{../creative-commons/cc}~%
  \includegraphics[height=1.5ex]{../creative-commons/by}~%
  \includegraphics[height=1.5ex]{../creative-commons/sa}~~%
  \insertshortauthor~%
  \end{beamercolorbox}%
  }%
% -------------------------------
%%% 7.2.2 The Sidebars
% -------------------------------
%%% 7.2.3 Navigation Bars (funktioniert nur mit miniframe Themes)
% \setbeamertemplate{mini frames}[default] % shows small circles as mini frames.
% \setbeamertemplate{mini frames}[box] % shows small rectangles as mini frames.
% \setbeamertemplate{mini frames}[tick] % shows small vertical bars as mini frames.
% -------------------------------
%%% 7.2.4 The Navigation Symbols
%%% Beamer-Template/-Color/-Font navigation symbols
% \setbeamertemplate{navigation symbols}{} % suppresses all navigation symbols:
% \setbeamertemplate{navigation symbols}[horizontal] % Organizes the navigation symbols horizontally.
% \setbeamertemplate{navigation symbols}[vertical] % Organizes the navigation symbols vertically.
% \setbeamertemplate{navigation symbols}[only frame symbol] % Shows only the navigational symbol for navigating frames.
% -------------------------------
%%% 7.2.5 The Logo
% \setbeamertemplate{logo} % Beamer-Template/-Color/-Font
% -------------------------------
%%% 7.2.6 The Frame Title
% \setbeamertemplate{frametitle} % Beamer-Template/-Color/-Font
% \setbeamertemplate{frametitle}[default][center] % left, center, right
% \setbeamertemplate{frametitle}[shadow theme]
% \setbeamertemplate{frametitle}[sidebar theme]
% \setbeamertemplate{frametitle}[smoothbars theme]
% \setbeamertemplate{frametitle}[smoothtree theme]
% \setbeamertemplate{frametitle}
% {
%     \nointerlineskip
%     \begin{beamercolorbox}[sep=0.3cm,ht=2.5em,wd=\paperwidth]{frametitle}
%         \vbox{}\vskip-2ex%
%         \hspace{1.2cm}
%         \strut\insertframetitle\strut
%         \vskip-0.8ex%
%     \end{beamercolorbox}
% }
% % Minimalistic frametitle
% \setbeamertemplate{frametitle}
% {
%   \vspace{.2cm}
%   \hspace{-.8cm}
%   \insertframetitle
% }
% -------------------------------
%%% 7.2.7 The Background
% \setbeamertemplate{background canvas} % Beamer-Template/-Color/-Font
% \setbeamertemplate{background canvas}[default]
% \setbeamertemplate{background canvas}[vertical shading][ color options ] installs a vertically shaded background.
%     - top= color specifies the color at the top of the page. By default, 25% of the foreground of
%       the beamer-color palette primary is used.
%     - bottom= color specifies the color at the bottom of the page. By default, the background of
%       normal text at the moment of invocation of this command is used.
%     - middle= color specifies the color for the middle of the page. Thus, if this option is given, the
%       shading changes from the bottom color to this color and then to the top color.
%     - midpoint= factor specifies at which point of the page the middle color is used. A factor of 0
%       is the bottom of the page, a factor of 1 is the top. The default, which is 0.5 is in the middle.
% \setbeamertemplate{background canvas}[vertical shading][top=gray!40,bottom=gray!40,middle=white,midpoint=.9]
%\setbeamertemplate{background canvas}[vertical shading][top=white,bottom=gray!40]
% \setbeamercolor{background canvas}{bg=white}
%% Slide Background
\setbeamertemplate{background canvas}{%
	\begin{tikzpicture}
		\path [outer color = mypurple,
		       inner color = mypurple!75!white]
			(0,0) rectangle (\paperwidth,\paperheight);
	\end{tikzpicture}%
}

% \setbeamertemplate{background} % Beamer-Template/-Color/-Font
% \setbeamertemplate{background}[default] % is empty.
% \setbeamertemplate{background}[grid][step=1cm] % places a grid on the background.
%     - step= dimension specifies the distance between grid lines. The default is 0.5cm.
%     - color= color specifies the color of the grid lines. The default is 10% foreground.
% % Add global transition effect \transfade (breaks the background)
% \addtobeamertemplate{background canvas}{%
%   \transfade[duration=.1]%
% }{}
% -------------------------------
%%% 7.3 Margin Sizes
\setbeamersize{text margin left=2em,text margin right=2em}
% \setbeamersize{sidebar width left=2cm}
%         - text margin left= TEX dimension sets a new left margin. This excludes the left sidebar. Thus,
%           it is the distance between the right edge of the left sidebar and the left edge of the text.
%         - text margin right= TEX dimension sets a new right margin.
%         - sidebar width left= TEX dimension sets the size of the left sidebar. Currently, this command
%           should be given before a shading is installed for the sidebar canvas.
%         - sidebar width right= TEX dimension sets the size of the right sidebar.
%         - description width= TEX dimension sets the default width of description labels, see Section 11.1.
%         - description width of= text sets the default width of description labels to the width of the
%             text , see Section 11.1.
%         - mini frame size= TEX dimension sets the size of mini frames in a navigation bar. When two
%           mini frame icons are shown alongside each other, their left end points are TEX dimension far
%           apart.
%         - mini frame offset= TEX dimension set an additional vertical offset that is added to the mini
%           frame size when arranging mini frames vertically.
% -------------------------------
%%% 9.1 Adding a Title Page
% \setbeamersize{title page} % Beamer-Template/-Color/-Font
%    This template is invoked when the \titlepage command is used.
%    The following commands are useful for this template:
%     -  \insertauthor inserts a version of the author's name that is useful for the title page.
%     -  \insertdate inserts the date.
%     -  \insertinstitute inserts the institute.
%     -  \inserttitle inserts a version of the document title that is useful for the title page.
%     -  \insertsubtitle inserts a version of the document title that is useful for the title page.
%     -  \inserttitlegraphic inserts the title graphic into a template.
\defbeamertemplate*{title page}{flat2}[1][]
{
  \addtocounter{framenumber}{-1}
  \begin{center}
    \Huge{\inserttitle}\\[1ex]
    \hrule
    \vspace{1ex}
    \Large{\insertsubtitle}
    \vfill

    % \large\textcolor{normal text.fg}{\textit{\insertinstitute}, \insertdate}
    \vspace{1em}

    \vfill

    \large \insertauthor\\
    \vspace{-1ex}
    {\scriptsize \insertdate}\\
    \insertlogo
  \end{center}
}

% -------------------------------
%%% 9.2 Adding Sections and Subsections
% -------------------------------
%%% Parent Beamer-Template sections/subsections in toc
% This is a parent template, whose children are section in toc and subsection in toc.
% \setbeamertemplate{sections/subsections in toc}[default]
% \setbeamertemplate{sections/subsections in toc}[sections numbered]
% \setbeamertemplate{sections/subsections in toc}[subsections numbered]
% \setbeamertemplate{sections/subsections in toc}[circle]
% \setbeamertemplate{sections/subsections in toc}[square]
% \setbeamertemplate{sections/subsections in toc}[ball]
% \setbeamertemplate{sections/subsections in toc}[ball unnumbered]
% -------------------------------
%%% 9.6 Adding a Bibliography
% -------------------------------
% \setbeamertemplate{bibliography item} % Beamer-Template/-Color/-Font
% \setbeamertemplate{bibliography item}[default] %  little article icon as the reference
% \setbeamertemplate{bibliography item}[article] % Alias for the default.
% \setbeamertemplate{bibliography item}[book] % little book icon as the reference
% \setbeamertemplate{bibliography item}[triangle] % triangle as the reference
% \setbeamertemplate{bibliography item}[text] % reference text (like '[Dijkstra, 1982]')
% -------------------------------
%%% 10.1 Adding Hyperlinks and Buttons
% -------------------------------
%%% 11.1 Itemizations, Enumerations, and Descriptions
% \setbeamertemplate{items} % parent template of itemize items and enumerate items
% \setbeamertemplate{itemize items} % Parent Beamer-Template
% \setbeamertemplate{itemize items}[triangle]
% \setbeamertemplate{itemize items}[circle]
% \setbeamertemplate{itemize items}[square]
% \setbeamertemplate{itemize items}[ball]
% -------------------------------
% \setbeamertemplate{enumerate items}[default] % Numbered
% \setbeamertemplate{enumerate items}[circle] % Places the numbers inside little circles.
% \setbeamertemplate{enumerate items}[square] % Places the numbers on little squares.
% \setbeamertemplate{enumerate items}[ball] % 'Projects' the numbers onto little balls.
% -------------------------------
%%% 11.2 Hilighting
% -------------------------------
%%% 11.3 Block Environments
% \setbeamertemplate{blocks} % Parent Beamer-Template
% \setbeamertemplate{blocks}[default]
% \setbeamertemplate{blocks}[rounded][shadow=true]
 % \setbeamertemplate{blocks}[rounded][shadow=false]
% -------------------------------
%%% 11.4 Theorem Environments
% \setbeamertemplate{qed symbol} % Beamer-Template/-Color/-Font
% -------------------------------
% \setbeamertemplate{theorems} % Parent Beamer-Template
% \setbeamertemplate{theorems}[default]
% \setbeamertemplate{theorems}[normal font]
% \setbeamertemplate{theorems}[numbered]
% \setbeamertemplate{theorems}[ams style]
% -------------------------------
%%% 11.6 Figures and Tables
% \setbeamertemplate{caption} % Beamer-Template/-Color/-Font
% \setbeamertemplate{caption}[default] typesets the caption name (a word like 'Figure' or 'Abbildung' or 'Table')
% \setbeamertemplate{caption}[numbered] adds the figure or table number to the caption.
% \setbeamertemplate{caption}
% -------------------------------
% \setbeamertemplate{caption name} % Beamer-Color/-Font
% -------------------------------
%%% 11.10    Abstract
% -------------------------------
%%% 11.11 Verse, Quotations, Quotes
% -------------------------------
%%% 11.12 Footnotes
% -------------------------------
%%% 18.1 Specifying Note Contents
% \setbeamertemplate{note page} % Beamer-Template/-Color/-Font
% \setbeamertemplate{note page}[default]
% \setbeamertemplate{note page}[compress]
% \setbeamertemplate{note page}[plain]
% -------------------------------
%%% Specifying Which Notes and Frames Are Shown
 % \setbeameroption{hide notes}
% \setbeameroption{show notes}
% \setbeameroption{show notes on second screen= right }
% \setbeameroption{show only notes}

\renewcommand{\footnoterule}{}

\usepackage{hyperref}
\hypersetup{
  linktoc=all,
  bookmarks=false,           % show bookmarks bar?
  bookmarksopen,
  bookmarksnumbered,
  colorlinks = false,
  linkcolor=black,           % color of interlinks
  citecolor=black,           % color of the sitation links
  urlcolor=black,            % the url color
  unicode=true,              % non-Latin characters in Acrobat’s bookmarks
  pdftoolbar=true,           % show Acrobat’s toolbar?
  pdfmenubar=true,           % show Acrobat’s menu?
  pdffitwindow=true,         % window fit to page when opened
  pdftitle={Git: Beyond the Basics},  % title
  pdfborder={ 0 0 0 },        % uBorder tin links
  pdfauthor = {Foivos Zakkak},
  pdfcreator = {Foivos Zakkak},
}

\usefonttheme{professionalfonts}% use own font handling
\usepackage{fontspec}
\usepackage{xunicode}
% \setmainfont{Comfortaa}
% \setsansfont{Comfortaa}
% \setsansfont{Liberation Sans}
\setmainfont[
% SmallCapsFont={Linux Biolinum},
SmallCapsFeatures={Letters=SmallCaps},
]{Liberation Sans}
% \setmonofont{Liberation Mono}
% \setmonofont{Inconsolata LGC for Powerline}
% Math fonts
\usepackage{unicode-math}
\setmathfont{xits-math.otf}

\usepackage{graphicx}
\usepackage{ulem}
\usepackage{color}
\usepackage{xspace}
\usepackage{xcolor}
\usepackage{array}
\usepackage{tikz}
\usetikzlibrary{arrows,arrows.meta,shapes,decorations.pathmorphing,calc,shadows,shadows.blur,shapes.multipart,positioning,fit,backgrounds,trees,graphs}
\tikzset{
    %Define standard arrow tip
    >=stealth',
    % Define arrow style
    arrow/.style={
           ->,
           thick,
           color=mypurple,
           shorten <=2pt,
           shorten >=4pt,},
    % Daniel's proposal for "uncovering" parts of a tikz-tree %
    invisible/.style={opacity=0},
    visible on/.style={alt=#1{}{invisible}},
    alt/.code args={<#1>#2#3}{%
      \alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}} % \pgfkeysalso doesn't change the path
    },
  }

\usepackage{amsmath}
\usepackage{textpos}
% \usepackage{subfigure}

% \graphicspath{{figures/}}
% \newcommand{\longname}{\emph{Source-Level Compiler Optimizations for Task-Parallelism}}
\newcommand{\code}[1]{{\small\colorbox{black}{\textcolor{green}{\texttt{#1}}}}}

\usepackage{bbding} % for the Checkmark and XSolidBrush
\newcommand{\tik}[0]{{\color{green}\Checkmark}} % Check-mark
\newcommand{\ex}[0]{{\color{red}\XSolidBrush}}  % X-mark

\newcommand{\buz}[2]{#1 \hfill \textcolor{Gray!50}{#2}}

% \usepackage{verbatim}
\usepackage{listings}

% \lstdefinestyle{highlight}{
%   keywordstyle=\color{MidnightBlue},
%   stringstyle=\color{mypurple},
% }
\lstdefinestyle{base}{
  language=Java,
  basicstyle=\scriptsize\ttfamily\color{black},
%  columns=flexible,
  % numbers=left,
  % numberstyle=\ttfamily\tiny,
  showstringspaces=false,
  alsoletter={-},
  literate={-}{-}1,
%  numbersep=1em,
  xleftmargin=2em,
%  xrightmargin=1em,
  escapeinside={@}{@},
%  morecomment=[l][\color{BrickRed}]{\#pragma\ task},
  commentstyle=\color{gray},
%   identifierstyle=\color{green},
%  backgroundcolor=\color{Honeydew1},
  keywordstyle=\bfseries\color{mypurple!80!black},
  stringstyle=\color{mypurple},
%  moredelim=**[is][\only<+(1)->{\color{black}\lstset{style=highlight}}]{~}{~},
}

\usepackage{booktabs} % bottomrule
\usepackage{multirow}

% Print table of contects at the beggining of each section
% \AtBeginSection[]{\begin{frame}\frametitle{Table of Contents}\tableofcontents[currentsection,currentsubsection]\end{frame}}
% \AtBeginSubsection[]{\begin{frame}\frametitle{Table of Contents}\tableofcontents[currentsection,currentsubsection]\end{frame}}

% Add outlines
% \AtBeginSection[]
% {
%   {
%   \setbeamertemplate{footline}{}
%   \begin{frame}<beamer>[plain,noframenumbering]
%     \frametitle{Outline}
%     \tableofcontents[currentsection]
%   \end{frame}
%   }
% }
\setcounter{tocdepth}{1}

%%%%%%%%%%%%%%%
% Intro slide %
%%%%%%%%%%%%%%%

\title[Git: Beyond the Basics]{Git}
\subtitle{Beyond the Basics}
\author[\texttt{foivos.zakkak@manchester.ac.uk}]{Foivos Zakkak}
% \institute[]{ManLang'17}
\date{\texttt{foivos.zakkak@manchester.ac.uk}}
% \logo{\includegraphics[height=1.0cm]{uniman-logo}}
%% Spread those bullets
% \let\olditem\item
% \renewcommand{\item}{\setlength{\itemsep}{\fill}\olditem}

\begin{document}
\setbeamercovered{invisible}

% \maketitle

\begin{frame}[plain]
  \titlepage
  \centering
  \includegraphics[height=.75cm]{../creative-commons/cc}~
  \includegraphics[height=.75cm]{../creative-commons/by}~
  % \includegraphics[height=.75cm]{../creative-commons/nc-eu}~
  \includegraphics[height=.75cm]{../creative-commons/sa}\\[1em]
  \scriptsize{Except where otherwise noted, this presentation is licensed under the\\
    \href{http://creativecommons.org/licenses/by-nc-sa/4.0/}%
    {Creative Commons Attribution-ShareAlike 4.0 International License.}\\[1ex]
    Third party marks and brands are the property of their respective
    holders.}
\end{frame}

% \begin{frame}[plain,noframenumbering]{Outline}
%     \tableofcontents
% \end{frame}

\section{Introduction}

\begin{frame}{Preamble}
  \begin{itemize} \setlength{\itemsep}{\fill}
  \item Feel free to \alert{interrupt} if you don't understand something
  \item Please ask. \alert{There are no stupid questions}!
  \item The slides are available at\\ {\small\url{https://foivos.zakkak.net/uploads/git-beyond-the-basics.pdf}}
  \item %During the presentation I might try to amuse you with jokes.\\
    Apologies in advance if I \alert{inadvertently} offend you in any way
  \end{itemize}
\end{frame}

\begin{frame}{Assumptions}
  \alert{You} know how to:
  \begin{enumerate}
  \item create a new repository \hfill \code{git init}
  \item clone \hfill \code{git clone <path.to.git.repository>}
  \item pull \hfill \code{git pull}
  \item commit \hfill \code{git add <file>; git commit}
  \item push \hfill \code{git push}
  \item use branches \hfill \code{git branch mybranch; git checkout mybranch}
  \end{enumerate}
\end{frame}

\begin{frame}{What Is This Tutorial About?}
  \begin{itemize} \setlength{\itemsep}{\fill}
  \item \buz{Time traveling}{visiting older states, undoing mistakes}
  \item \buz{``Blaming'' others}{detecting commits that introduced bugs}
  \item \buz{Gardening}{working with multiple branches}
  \item \buz{Cleaning after yourself}{rebasing, squash, fixup, editing logs}
  \item \buz{Sharing}{working with multiple remotes}
  \item \buz{Interacting with people}{working with others}
  \item \buz{Befriending giants}{working with huge projects}
  \end{itemize}
  \centering
  \alert{Best practices} in general!
\end{frame}

\begin{frame}{Git Terminology \& Background}
  \centering
  \tiny
  Visualization inspired by Patrick Zahnd's ``\textit{git data transport commands}''. (\url{http://www.patrickzahnd.ch})
  \vfill
  \scriptsize
  \input{tikz/transport-commands}
\end{frame}

\begin{frame}{Git Log Visualization}
  \centering
  \input{tikz/git-log}
\end{frame}

\section{Time Travel}

% \begin{frame}
%   \frametitle{Checkout: Changing working branch}

%   \code{git checkout <branch>}
%   \begin{itemize}
%   \item Brings the state of branch \texttt{<branch>} in the workspace
%   \item Keeps any changes if there are no conflicts, fails otherwise
%   \item Resets index
%   \item Points \texttt{HEAD} to branch \texttt{<branch>}
%   \end{itemize}

% \end{frame}

\begin{frame}{Checkout: Jump to a Certain Point in Time (Commit)}

  \code{git checkout <commit>}
  \begin{itemize}
  \item Brings the state of \texttt{<commit>} in the workspace
  \item Keeps any changes if there are no conflicts, fails otherwise
  \item Resets index
  \item Detaches \texttt{HEAD}
  \end{itemize}

\end{frame}

\begin{frame}{Checkout: Undo Changes in Specific File(s)}

  \code{git checkout -- <path(s)>}
  \begin{itemize}
  \item Get (overwrite) \texttt{<path(s)>} from \alert{index}
  \item If path has been \alert{staged} it will revert to the \alert{staged state}
  \end{itemize}
\end{frame}

\begin{frame}{Checkout: Obtain Specific Version of Specific File(s)}

  \code{git checkout <branch/commit> -- <path(s)>}
  \begin{itemize}
  \item Get (overwrite) \texttt{<path(s)>} from \texttt{<branch/commit>}
  \end{itemize}
\end{frame}

\begin{frame}{Reset: Undo Staging}

  \code{git reset}
  \begin{itemize}
  \item Resets the staging area (not altering the files in the workspace)
  \end{itemize}

  \vfill
  \pause

  \code{git reset -- <path(s)>}
  \begin{itemize}
  \item Only affect \texttt{<path(s)>}
  \end{itemize}
\end{frame}

\begin{frame}{Reset: Move \texttt{HEAD} to Another Branch/Commit}

  \code{git reset <branch/commit>}
  \begin{itemize}
  \item Point \texttt{HEAD} to \texttt{<branch/commit>}
    \setbeamertemplate{description item}[align left]
    \begin{description}[<+->] \setlength{\itemsep}{\fill}
    \item[\texttt{--mixed}] (\alert{the default}) change the
      \texttt{HEAD} and reset \alert{staging area}
    \item[\texttt{--soft}] only change the \texttt{HEAD}\\
      (Undo last commits without losing changes)
    \item[\texttt{--hard}] change the \texttt{HEAD}, reset \alert{staging area and workspace}\\
      (Throw away last commits)
    \item[\texttt{--merge}] See \texttt{man git reset}
    \item[\texttt{--keep}] See \texttt{man git reset}
      % Change \texttt{HEAD} and reset index keeping changed files in workspace not altered by the commits being reset (fails on conflict)
    \end{description}
  \end{itemize}
\end{frame}

\begin{frame}{Undo Changes}
  \code{git revert <commit>}

  Creates a new commit that reverts the changes made by \texttt{<commit>}

  \vfill
  \pause

  \code{git revert <commit1>..<commit2>}

  Creates a new commit that reverts the changes made by all commits in the range (inclusive) \texttt{<commit1>} to \texttt{<commit2>}

  \vfill
  \pause

  \code{git revert -n <commit1>..<commit2>}

  Reverts the changes made by all commits in the range (inclusive) \texttt{<commit1>} to \texttt{<commit2>} but does not commit them
\end{frame}

\section{Blaming Others}

\begin{frame}{Debugging or Bisecting}

  \code{git bisect start}

  Enter the bisecting mode

  \vfill
  \pause

  \code{git bisect good/bad}

  Mark current commit as good or bad

  \vfill
  \pause

  \code{git bisect good/bad <commit>}

  Mark \texttt{<commit>} as good or bad

  \vfill
  \pause

  \code{git bisect log}

  Show tested commits and their status.
  This log can be saved and used to \textit{replay} part of the process.
  \code{git bisect replay <logfile>}

\end{frame}

\section{Gardening}

\begin{frame}{Branching}

  \code{git branch -a}

  List all branches, local and remote-tracking

  \vfill
  \pause

  \code{git checkout -b <newbranch>}

  Fastest way to create and checkout a new branch

  \vfill
  \pause

  \code{git branch -d <branchname>}

  Delete \texttt{<branchname>} locally

  \vfill
  \pause

  \code{git branch -m <newname>} or \code{git branch -m <oldname> <newname>}

  Rename current branch or given branch

  \vfill
  \pause

  \code{git branch -u <remote> <remotebranchname>}

  Set the remote branch to be used as upstream for current branch

\end{frame}

\begin{frame}{Merging}
  \code{git merge <branch>}

  Merge \texttt{<branch>} with current branch
  \setbeamertemplate{description item}[align left]
  \begin{description}[<+->] \setlength{\itemsep}{\fill}
  \item[\texttt{--ff~~~~~}] (the \alert{default}) if merging can be resolved as an append doesn't create a \textit{merge commit}
  \item[\texttt{--ff-only}] if merging cannot be resolved as an append it fails
  \item[\texttt{--squash~}] squash all changes and stage them but do not commit
  \end{description}

\end{frame}

\begin{frame}{Rebasing}
  \code{git rebase <branch>}

  \textit{Replay} current branch's commits on top of \texttt{<branch>}

  \vfill
  \pause

  \begin{alertblock}{Caution}
    Re-writes the history of your branch, changing the commit hashes
  \end{alertblock}
\end{frame}

\section{Cleaning After Yourself}

\begin{frame}{Re-writing History}
  \code{git rebase -i <commit>}

  Opens a file with all commits from \texttt{HEAD} to \texttt{<commit>} (inclusive) and allows us to:
  \begin{center}
    \def\arraystretch{1.5}
    \setlength\tabcolsep{2em}
    \begin{tabular}{c c c}
      drop   & reorder & edit commit \\
      squash & fixup   & edit commit message
    \end{tabular}
  \end{center}

  \begin{alertblock}{Caution}
    Re-writes the history of your branch, changing the commit hashes
  \end{alertblock}
\end{frame}

\begin{frame}{Fixup and Squash Commits}
    \code{git commit --fixup/--squash <commit>}

    Mark commit as a fixup or squash of \texttt{<commit>}.
    Commit message will automatically be set.

    \vfill
    \pause

    \code{git rebase -i --autosquash}

    Automatically squash commits starting with \texttt{fixup!} or \texttt{squash!}
\end{frame}

\section{Sharing}

\begin{frame}{Managing Multiple Remotes}
  \code{git remote add <remotename> <url>}

  Adds a new remote

  \vfill
  \pause

  \code{git push <remotename>}

  Pushes to \texttt{<remotename>} instead of \texttt{origin}

  \vfill
  \pause

  \code{git pull <remotename>}

  Pulls from \texttt{<remotename>} instead of \texttt{origin}

  \vfill
  \pause

  \code{git fetch <remotename>}

  Fetches from \texttt{<remotename>} instead of \texttt{origin}

\end{frame}

\begin{frame}{Managing Multiple Remotes}
  \code{git checkout <remotename>/<branch>}

  Checks out \texttt{<branch>} from \texttt{<remotename>} instead of the local repository.
  It still \alert{doesn't fetch it} though!

  \vfill
  \pause

  \code{git fetch --all}

  Fetches all remotes

  \vfill
  \pause

  \code{git fetch --all --prune}

  Removes any no longer existing remote branches

\end{frame}

\section{Interacting with People}

\begin{frame}{Rules for Successful Collaboration}
  \begin{itemize}[<+->] \setlength{\itemsep}{\fill}
  \item Use \alert{descriptive yet short} commit subjects
  \item \alert{Never} rewrite history of shared branches
  \item \alert{Merge} often
  \item \alert{Do not} commit changes that brake the previous state
  \item Keep commits \alert{self contained} and as small as possible
  \end{itemize}
\end{frame}

\section{Befriending Giants}

\begin{frame}{Working with Huge Projects}
  \begin{itemize}[<+->] \setlength{\itemsep}{\fill}
  \item Consider the \alert{gating/regression costs} before pushing
  \item ``I'll fix it later'' hacks are not going to be fixed any time soon\\[1ex]
    Oldest \alert{``fix later''} linux kernel hack dates back to \alert{1996} \url{http://kazet.co/2016/04/29/temporary-hacks.html}
  \item Follow a strict branching model like \alert{Git-Flow}
  \item \code{git log --simplify-merges}
  \end{itemize}
\end{frame}

\begin{frame}{Indicative Workflow}
  \begin{multicols}{2}
    \begin{enumerate}[<+->] \setlength{\itemsep}{\fill}
    \item Code
    \item Commit
    \item Gate (pre-push tests)
    \item Push
    \item Open Pull/Merge Request
    \item Code Review and Testing
    \item Merge
    \item Regression Testing
    \end{enumerate}
  \end{multicols}
\end{frame}

% \section{Acknowledgments}

% \begin{frame}{Acknowledgments}

% \end{frame}

% Closing slide
\section{Closure}
{
\setbeamertemplate{footline}{}
\begin{frame}[noframenumbering]
 \frametitle{\fontspec{Purisa}\textbf{Cheers!}}
 \centering
 \titlepage
\end{frame}
}

%   BACKUP SLIDES

\end{document}
